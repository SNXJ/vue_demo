<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>vue_axios</title>
    <script src="https://unpkg.com/vue@next"></script>
    <script src="https://unpkg.com/vue-router@4"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <link type="text/css" href="vue01.css" rel="stylesheet">

</head>
<body>


<div id="div12" class="div01">
    <p @click="changeText" class="demo">{{ text }}</p>
    <p @click="changeText2" class="demo">{{ text2 }}</p>
    <br>
    <ul>
        <li v-for="img in imgUrls" :key="img.id">
            <img :src="img.avatar_url">
            <h4 >{{img.login}}</h4>
        </li>

    </ul>
</div>

<script>


  const appaxios = Vue.createApp({
    data () {
      return {
        text: '这是 axio get测试',
        text2: '这是 axio post测试',
        imgUrls: []
      }
    }
    ,
    mounted () {
      // this.text = '挂载完成'
    },
    methods: {
      changeText () {
        this.text = '加载中...'
        axios.get('https://api.github.com/users')
          .then(response => (
            this.text = '请求完成',
              this.imgUrls = response.data
          ))
          .catch(function (error) {
            // text = 'API异常：' + error
            // console.log(error)
          })

      },

      changeText2 () {
        this.text2 = '加载中...'
        axios.post('https://www.runoob.com/try/ajax/demo_axios_post.php')
          .then(response => (this.text2 = response))
          .catch(function (error) { // 请求失败处理
            // console.log(error)
            // this.text2 = 'api异常'
            alert('错误信息:' + error)
          })

      }
    }

  })

  appaxios.mount('#div12')

</script>

</body>
</html>
